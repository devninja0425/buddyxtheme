"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var pluginName="doubleTapToGo",defaults={automatic:!0,selectorClass:"doubletap",selectorChain:"li:has(ul)"};function DoubleTapToGo(t,e){this.element=t,this.settings=$.extend({},defaults,e),this._defaults=defaults,this._name=pluginName,this.init()}$.extend(DoubleTapToGo.prototype,{preventClick:!1,currentTap:$(),init:function(){$(this.element).on("touchstart","."+this.settings.selectorClass,this._tap.bind(this)).on("click","."+this.settings.selectorClass,this._click.bind(this)).on("remove",this._destroy.bind(this)),this._addSelectors()},_addSelectors:function(){!0===this.settings.automatic&&$(this.element).find(this.settings.selectorChain).addClass(this.settings.selectorClass)},_click:function(t){this.preventClick?t.preventDefault():this.currentTap=$()},_tap:function(t){var e=$(t.target).closest("li");e.hasClass(this.settings.selectorClass)&&e.get(0)!==this.currentTap.get(0)?(this.preventClick=!0,this.currentTap=e,t.stopPropagation()):this.preventClick=!1},_destroy:function(){$(this.element).off()},reset:function(){this.currentTap=$()}}),$.fn[pluginName]=function(i){var s,o=arguments;return void 0===i||"object"===_typeof(i)?this.each(function(){$.data(this,pluginName)||$.data(this,pluginName,new DoubleTapToGo(this,i))}):"string"==typeof i&&"_"!==i[0]&&"init"!==i?(this.each(function(){var t=$.data(this,pluginName),e="destroy"===i?"_destroy":i;t instanceof DoubleTapToGo&&"function"==typeof t[e]&&(s=t[e].apply(t,Array.prototype.slice.call(o,1))),"destroy"===i&&$.data(this,pluginName,null)}),void 0!==s?s:this):void 0};